{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"expo-av","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":50,"index":50}}],"key":"VxVG0TWBdB+Oc1qOQ32HKtN+H5M=","exportNames":["*"],"imports":1}},{"name":"../store/audioStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":51},"end":{"line":2,"column":58,"index":109}}],"key":"BTOsD4ciwbN9N71GXdQx3QiV1iY=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":69,"index":179}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":26,"index":206}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AudioService\", {\n    enumerable: true,\n    get: function () {\n      return AudioService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _expoAv = require(_dependencyMap[1], \"expo-av\");\n  var _storeAudioStore = require(_dependencyMap[2], \"../store/audioStore\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[4], \"axios\");\n  var axios = _interopDefault(_axios);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  class AudioService {\n    static updateInterval = null;\n    static async initAudio() {\n      try {\n        await _expoAv.Audio.setAudioModeAsync({\n          allowsRecordingIOS: false,\n          playsInSilentModeIOS: true,\n          staysActiveInBackground: true,\n          shouldDuckAndroid: true\n        });\n      } catch (error) {\n        console.error('Error initializing audio:', error);\n      }\n    }\n    static async loadAndPlayAudio(book, startPosition = 0) {\n      const store = _storeAudioStore.useAudioStore.getState();\n      try {\n        store.setIsLoading(true);\n\n        // Cleanup existing sound\n        if (store.sound) {\n          await store.sound.unloadAsync();\n        }\n        const currentFile = book.files[book.currentFileIndex];\n        if (!currentFile) {\n          console.error('No file found at index:', book.currentFileIndex);\n          return;\n        }\n        const {\n          sound\n        } = await _expoAv.Audio.Sound.createAsync({\n          uri: currentFile.uri\n        }, {\n          shouldPlay: false,\n          positionMillis: startPosition\n        }, this.onPlaybackStatusUpdate);\n        store.setSound(sound);\n        store.setCurrentBook(book);\n        await sound.playAsync();\n        store.setIsPlaying(true);\n\n        // Start auto-save interval\n        this.startAutoSave();\n      } catch (error) {\n        console.error('Error loading audio:', error);\n      } finally {\n        store.setIsLoading(false);\n      }\n    }\n    static onPlaybackStatusUpdate = status => {\n      const store = _storeAudioStore.useAudioStore.getState();\n      if (!status.isLoaded) {\n        return;\n      }\n      store.setCurrentPosition(status.positionMillis);\n      store.setDuration(status.durationMillis || 0);\n      store.setIsPlaying(status.isPlaying);\n\n      // Handle end of file\n      if (status.didJustFinish && !status.isLooping) {\n        this.handleTrackEnd();\n      }\n    };\n    static async handleTrackEnd() {\n      const store = _storeAudioStore.useAudioStore.getState();\n      const {\n        currentBook\n      } = store;\n      if (!currentBook) return;\n\n      // Check if there are more files\n      if (currentBook.currentFileIndex < currentBook.files.length - 1) {\n        // Play next file\n        const nextBook = Object.assign({}, currentBook, {\n          currentFileIndex: currentBook.currentFileIndex + 1\n        });\n        await this.loadAndPlayAudio(nextBook, 0);\n      } else {\n        // Book finished\n        store.setIsPlaying(false);\n        await this.saveProgress();\n      }\n    }\n    static async playPause() {\n      const store = _storeAudioStore.useAudioStore.getState();\n      const {\n        sound,\n        isPlaying\n      } = store;\n      if (!sound) return;\n      if (isPlaying) {\n        await sound.pauseAsync();\n        await this.saveProgress();\n      } else {\n        await sound.playAsync();\n      }\n    }\n    static async seek(milliseconds) {\n      const store = _storeAudioStore.useAudioStore.getState();\n      const {\n        sound,\n        currentPosition,\n        duration\n      } = store;\n      if (!sound) return;\n      const newPosition = Math.max(0, Math.min(currentPosition + milliseconds, duration));\n      await sound.setPositionAsync(newPosition);\n    }\n    static async seekTo(position) {\n      const store = _storeAudioStore.useAudioStore.getState();\n      const {\n        sound\n      } = store;\n      if (!sound) return;\n      await sound.setPositionAsync(position);\n    }\n    static async skipForward(seconds) {\n      await this.seek(seconds * 1000);\n    }\n    static async skipBackward(seconds) {\n      await this.seek(-seconds * 1000);\n    }\n    static async saveProgress() {\n      const store = _storeAudioStore.useAudioStore.getState();\n      const {\n        currentBook,\n        currentPosition,\n        duration\n      } = store;\n      if (!currentBook) return;\n      try {\n        await axios.default.post(`${API_URL}/api/progress`, {\n          book_id: currentBook.id,\n          position: currentPosition,\n          duration: duration,\n          current_file_index: currentBook.currentFileIndex\n        });\n\n        // Also save locally\n        await AsyncStorage.default.setItem(`book_progress_${currentBook.id}`, JSON.stringify({\n          position: currentPosition,\n          fileIndex: currentBook.currentFileIndex,\n          timestamp: Date.now()\n        }));\n      } catch (error) {\n        console.error('Error saving progress:', error);\n      }\n    }\n    static async loadProgress(bookId) {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/progress/${bookId}`);\n        return response.data;\n      } catch (error) {\n        console.error('Error loading progress:', error);\n        return null;\n      }\n    }\n    static async resetProgress(bookId) {\n      try {\n        await axios.default.delete(`${API_URL}/api/progress/${bookId}`);\n        await AsyncStorage.default.removeItem(`book_progress_${bookId}`);\n      } catch (error) {\n        console.error('Error resetting progress:', error);\n      }\n    }\n    static startAutoSave() {\n      if (this.updateInterval) {\n        clearInterval(this.updateInterval);\n      }\n\n      // Save progress every 10 seconds\n      this.updateInterval = setInterval(() => {\n        this.saveProgress();\n      }, 10000);\n    }\n    static stopAutoSave() {\n      if (this.updateInterval) {\n        clearInterval(this.updateInterval);\n        this.updateInterval = null;\n      }\n    }\n    static async cleanup() {\n      this.stopAutoSave();\n      await this.saveProgress();\n      const store = _storeAudioStore.useAudioStore.getState();\n      await store.cleanup();\n    }\n    static startDelayedPlayback(book, delayMinutes) {\n      const store = _storeAudioStore.useAudioStore.getState();\n\n      // Clear any existing timeout\n      if (store.delayTimeoutId) {\n        clearTimeout(store.delayTimeoutId);\n      }\n      store.setIsDelayActive(true);\n      store.setDelayStartTime(Date.now());\n      const timeoutId = setTimeout(() => {\n        this.loadAndPlayAudio(book, book.currentPosition);\n        store.setIsDelayActive(false);\n        store.setDelayStartTime(null);\n      }, delayMinutes * 60 * 1000);\n      store.setDelayTimeoutId(timeoutId);\n    }\n    static cancelDelayedPlayback() {\n      const store = _storeAudioStore.useAudioStore.getState();\n      if (store.delayTimeoutId) {\n        clearTimeout(store.delayTimeoutId);\n        store.setDelayTimeoutId(null);\n      }\n      store.setIsDelayActive(false);\n      store.setDelayStartTime(null);\n    }\n  }\n});","lineCount":239,"map":[[12,2,8,0,"Object"],[12,8,8,0],[12,9,8,0,"defineProperty"],[12,23,8,0],[12,24,8,0,"exports"],[12,31,8,0],[13,4,8,0,"enumerable"],[13,14,8,0],[14,4,8,0,"get"],[14,7,8,0],[14,18,8,0,"get"],[14,19,8,0],[15,6,8,0],[15,13,8,0,"AudioService"],[15,25,8,0],[16,4,8,0],[17,2,8,0],[18,2,244,1],[18,6,244,1,"_expoVirtualEnv"],[18,21,244,1],[18,24,244,1,"require"],[18,31,244,1],[18,32,244,1,"_dependencyMap"],[18,46,244,1],[19,2,1,0],[19,6,1,0,"_expoAv"],[19,13,1,0],[19,16,1,0,"require"],[19,23,1,0],[19,24,1,0,"_dependencyMap"],[19,38,1,0],[20,2,2,0],[20,6,2,0,"_storeAudioStore"],[20,22,2,0],[20,25,2,0,"require"],[20,32,2,0],[20,33,2,0,"_dependencyMap"],[20,47,2,0],[21,2,3,0],[21,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,3,0],[21,45,3,0,"require"],[21,52,3,0],[21,53,3,0,"_dependencyMap"],[21,67,3,0],[22,2,3,0],[22,6,3,0,"AsyncStorage"],[22,18,3,0],[22,21,3,0,"_interopDefault"],[22,36,3,0],[22,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,3,0],[23,2,4,0],[23,6,4,0,"_axios"],[23,12,4,0],[23,15,4,0,"require"],[23,22,4,0],[23,23,4,0,"_dependencyMap"],[23,37,4,0],[24,2,4,0],[24,6,4,0,"axios"],[24,11,4,0],[24,14,4,0,"_interopDefault"],[24,29,4,0],[24,30,4,0,"_axios"],[24,36,4,0],[25,2,6,0],[25,8,6,6,"API_URL"],[25,15,6,13],[25,18,6,13,"_expoVirtualEnv"],[25,33,6,13],[25,34,6,13,"env"],[25,37,6,13],[25,38,6,13,"EXPO_PUBLIC_BACKEND_URL"],[25,61,6,51],[26,2,8,7],[26,8,8,13,"AudioService"],[26,20,8,25],[26,21,8,26],[27,4,9,2],[27,11,9,17,"updateInterval"],[27,25,9,31],[27,28,9,57],[27,32,9,61],[28,4,11,2],[28,17,11,15,"initAudio"],[28,26,11,24,"initAudio"],[28,27,11,24],[28,29,11,27],[29,6,12,4],[29,10,12,8],[30,8,13,6],[30,14,13,12,"Audio"],[30,21,13,17],[30,22,13,17,"Audio"],[30,27,13,17],[30,28,13,18,"setAudioModeAsync"],[30,45,13,35],[30,46,13,36],[31,10,14,8,"allowsRecordingIOS"],[31,28,14,26],[31,30,14,28],[31,35,14,33],[32,10,15,8,"playsInSilentModeIOS"],[32,30,15,28],[32,32,15,30],[32,36,15,34],[33,10,16,8,"staysActiveInBackground"],[33,33,16,31],[33,35,16,33],[33,39,16,37],[34,10,17,8,"shouldDuckAndroid"],[34,27,17,25],[34,29,17,27],[35,8,18,6],[35,9,18,7],[35,10,18,8],[36,6,19,4],[36,7,19,5],[36,8,19,6],[36,15,19,13,"error"],[36,20,19,18],[36,22,19,20],[37,8,20,6,"console"],[37,15,20,13],[37,16,20,14,"error"],[37,21,20,19],[37,22,20,20],[37,49,20,47],[37,51,20,49,"error"],[37,56,20,54],[37,57,20,55],[38,6,21,4],[39,4,22,2],[40,4,24,2],[40,17,24,15,"loadAndPlayAudio"],[40,33,24,31,"loadAndPlayAudio"],[40,34,24,32,"book"],[40,38,24,42],[40,40,24,44,"startPosition"],[40,53,24,65],[40,56,24,68],[40,57,24,69],[40,59,24,71],[41,6,25,4],[41,12,25,10,"store"],[41,17,25,15],[41,20,25,18,"useAudioStore"],[41,36,25,31],[41,37,25,31,"useAudioStore"],[41,50,25,31],[41,51,25,32,"getState"],[41,59,25,40],[41,60,25,41],[41,61,25,42],[42,6,27,4],[42,10,27,8],[43,8,28,6,"store"],[43,13,28,11],[43,14,28,12,"setIsLoading"],[43,26,28,24],[43,27,28,25],[43,31,28,29],[43,32,28,30],[45,8,30,6],[46,8,31,6],[46,12,31,10,"store"],[46,17,31,15],[46,18,31,16,"sound"],[46,23,31,21],[46,25,31,23],[47,10,32,8],[47,16,32,14,"store"],[47,21,32,19],[47,22,32,20,"sound"],[47,27,32,25],[47,28,32,26,"unloadAsync"],[47,39,32,37],[47,40,32,38],[47,41,32,39],[48,8,33,6],[49,8,35,6],[49,14,35,12,"currentFile"],[49,25,35,23],[49,28,35,26,"book"],[49,32,35,30],[49,33,35,31,"files"],[49,38,35,36],[49,39,35,37,"book"],[49,43,35,41],[49,44,35,42,"currentFileIndex"],[49,60,35,58],[49,61,35,59],[50,8,36,6],[50,12,36,10],[50,13,36,11,"currentFile"],[50,24,36,22],[50,26,36,24],[51,10,37,8,"console"],[51,17,37,15],[51,18,37,16,"error"],[51,23,37,21],[51,24,37,22],[51,49,37,47],[51,51,37,49,"book"],[51,55,37,53],[51,56,37,54,"currentFileIndex"],[51,72,37,70],[51,73,37,71],[52,10,38,8],[53,8,39,6],[54,8,41,6],[54,14,41,12],[55,10,41,14,"sound"],[56,8,41,20],[56,9,41,21],[56,12,41,24],[56,18,41,30,"Audio"],[56,25,41,35],[56,26,41,35,"Audio"],[56,31,41,35],[56,32,41,36,"Sound"],[56,37,41,41],[56,38,41,42,"createAsync"],[56,49,41,53],[56,50,42,8],[57,10,42,10,"uri"],[57,13,42,13],[57,15,42,15,"currentFile"],[57,26,42,26],[57,27,42,27,"uri"],[58,8,42,31],[58,9,42,32],[58,11,43,8],[59,10,43,10,"shouldPlay"],[59,20,43,20],[59,22,43,22],[59,27,43,27],[60,10,43,29,"positionMillis"],[60,24,43,43],[60,26,43,45,"startPosition"],[61,8,43,59],[61,9,43,60],[61,11,44,8],[61,15,44,12],[61,16,44,13,"onPlaybackStatusUpdate"],[61,38,45,6],[61,39,45,7],[62,8,47,6,"store"],[62,13,47,11],[62,14,47,12,"setSound"],[62,22,47,20],[62,23,47,21,"sound"],[62,28,47,26],[62,29,47,27],[63,8,48,6,"store"],[63,13,48,11],[63,14,48,12,"setCurrentBook"],[63,28,48,26],[63,29,48,27,"book"],[63,33,48,31],[63,34,48,32],[64,8,50,6],[64,14,50,12,"sound"],[64,19,50,17],[64,20,50,18,"playAsync"],[64,29,50,27],[64,30,50,28],[64,31,50,29],[65,8,51,6,"store"],[65,13,51,11],[65,14,51,12,"setIsPlaying"],[65,26,51,24],[65,27,51,25],[65,31,51,29],[65,32,51,30],[67,8,53,6],[68,8,54,6],[68,12,54,10],[68,13,54,11,"startAutoSave"],[68,26,54,24],[68,27,54,25],[68,28,54,26],[69,6,55,4],[69,7,55,5],[69,8,55,6],[69,15,55,13,"error"],[69,20,55,18],[69,22,55,20],[70,8,56,6,"console"],[70,15,56,13],[70,16,56,14,"error"],[70,21,56,19],[70,22,56,20],[70,44,56,42],[70,46,56,44,"error"],[70,51,56,49],[70,52,56,50],[71,6,57,4],[71,7,57,5],[71,16,57,14],[72,8,58,6,"store"],[72,13,58,11],[72,14,58,12,"setIsLoading"],[72,26,58,24],[72,27,58,25],[72,32,58,30],[72,33,58,31],[73,6,59,4],[74,4,60,2],[75,4,62,2],[75,11,62,9,"onPlaybackStatusUpdate"],[75,33,62,31],[75,36,62,35,"status"],[75,42,62,59],[75,46,62,64],[76,6,63,4],[76,12,63,10,"store"],[76,17,63,15],[76,20,63,18,"useAudioStore"],[76,36,63,31],[76,37,63,31,"useAudioStore"],[76,50,63,31],[76,51,63,32,"getState"],[76,59,63,40],[76,60,63,41],[76,61,63,42],[77,6,65,4],[77,10,65,8],[77,11,65,9,"status"],[77,17,65,15],[77,18,65,16,"isLoaded"],[77,26,65,24],[77,28,65,26],[78,8,66,6],[79,6,67,4],[80,6,69,4,"store"],[80,11,69,9],[80,12,69,10,"setCurrentPosition"],[80,30,69,28],[80,31,69,29,"status"],[80,37,69,35],[80,38,69,36,"positionMillis"],[80,52,69,50],[80,53,69,51],[81,6,70,4,"store"],[81,11,70,9],[81,12,70,10,"setDuration"],[81,23,70,21],[81,24,70,22,"status"],[81,30,70,28],[81,31,70,29,"durationMillis"],[81,45,70,43],[81,49,70,47],[81,50,70,48],[81,51,70,49],[82,6,71,4,"store"],[82,11,71,9],[82,12,71,10,"setIsPlaying"],[82,24,71,22],[82,25,71,23,"status"],[82,31,71,29],[82,32,71,30,"isPlaying"],[82,41,71,39],[82,42,71,40],[84,6,73,4],[85,6,74,4],[85,10,74,8,"status"],[85,16,74,14],[85,17,74,15,"didJustFinish"],[85,30,74,28],[85,34,74,32],[85,35,74,33,"status"],[85,41,74,39],[85,42,74,40,"isLooping"],[85,51,74,49],[85,53,74,51],[86,8,75,6],[86,12,75,10],[86,13,75,11,"handleTrackEnd"],[86,27,75,25],[86,28,75,26],[86,29,75,27],[87,6,76,4],[88,4,77,2],[88,5,77,3],[89,4,79,2],[89,17,79,15,"handleTrackEnd"],[89,31,79,29,"handleTrackEnd"],[89,32,79,29],[89,34,79,32],[90,6,80,4],[90,12,80,10,"store"],[90,17,80,15],[90,20,80,18,"useAudioStore"],[90,36,80,31],[90,37,80,31,"useAudioStore"],[90,50,80,31],[90,51,80,32,"getState"],[90,59,80,40],[90,60,80,41],[90,61,80,42],[91,6,81,4],[91,12,81,10],[92,8,81,12,"currentBook"],[93,6,81,24],[93,7,81,25],[93,10,81,28,"store"],[93,15,81,33],[94,6,83,4],[94,10,83,8],[94,11,83,9,"currentBook"],[94,22,83,20],[94,24,83,22],[96,6,85,4],[97,6,86,4],[97,10,86,8,"currentBook"],[97,21,86,19],[97,22,86,20,"currentFileIndex"],[97,38,86,36],[97,41,86,39,"currentBook"],[97,52,86,50],[97,53,86,51,"files"],[97,58,86,56],[97,59,86,57,"length"],[97,65,86,63],[97,68,86,66],[97,69,86,67],[97,71,86,69],[98,8,87,6],[99,8,88,6],[99,14,88,12,"nextBook"],[99,22,88,20],[99,25,88,20,"Object"],[99,31,88,20],[99,32,88,20,"assign"],[99,38,88,20],[99,43,89,11,"currentBook"],[99,54,89,22],[100,10,90,8,"currentFileIndex"],[100,26,90,24],[100,28,90,26,"currentBook"],[100,39,90,37],[100,40,90,38,"currentFileIndex"],[100,56,90,54],[100,59,90,57],[101,8,90,58],[101,10,91,7],[102,8,92,6],[102,14,92,12],[102,18,92,16],[102,19,92,17,"loadAndPlayAudio"],[102,35,92,33],[102,36,92,34,"nextBook"],[102,44,92,42],[102,46,92,44],[102,47,92,45],[102,48,92,46],[103,6,93,4],[103,7,93,5],[103,13,93,11],[104,8,94,6],[105,8,95,6,"store"],[105,13,95,11],[105,14,95,12,"setIsPlaying"],[105,26,95,24],[105,27,95,25],[105,32,95,30],[105,33,95,31],[106,8,96,6],[106,14,96,12],[106,18,96,16],[106,19,96,17,"saveProgress"],[106,31,96,29],[106,32,96,30],[106,33,96,31],[107,6,97,4],[108,4,98,2],[109,4,100,2],[109,17,100,15,"playPause"],[109,26,100,24,"playPause"],[109,27,100,24],[109,29,100,27],[110,6,101,4],[110,12,101,10,"store"],[110,17,101,15],[110,20,101,18,"useAudioStore"],[110,36,101,31],[110,37,101,31,"useAudioStore"],[110,50,101,31],[110,51,101,32,"getState"],[110,59,101,40],[110,60,101,41],[110,61,101,42],[111,6,102,4],[111,12,102,10],[112,8,102,12,"sound"],[112,13,102,17],[113,8,102,19,"isPlaying"],[114,6,102,29],[114,7,102,30],[114,10,102,33,"store"],[114,15,102,38],[115,6,104,4],[115,10,104,8],[115,11,104,9,"sound"],[115,16,104,14],[115,18,104,16],[116,6,106,4],[116,10,106,8,"isPlaying"],[116,19,106,17],[116,21,106,19],[117,8,107,6],[117,14,107,12,"sound"],[117,19,107,17],[117,20,107,18,"pauseAsync"],[117,30,107,28],[117,31,107,29],[117,32,107,30],[118,8,108,6],[118,14,108,12],[118,18,108,16],[118,19,108,17,"saveProgress"],[118,31,108,29],[118,32,108,30],[118,33,108,31],[119,6,109,4],[119,7,109,5],[119,13,109,11],[120,8,110,6],[120,14,110,12,"sound"],[120,19,110,17],[120,20,110,18,"playAsync"],[120,29,110,27],[120,30,110,28],[120,31,110,29],[121,6,111,4],[122,4,112,2],[123,4,114,2],[123,17,114,15,"seek"],[123,21,114,19,"seek"],[123,22,114,20,"milliseconds"],[123,34,114,40],[123,36,114,42],[124,6,115,4],[124,12,115,10,"store"],[124,17,115,15],[124,20,115,18,"useAudioStore"],[124,36,115,31],[124,37,115,31,"useAudioStore"],[124,50,115,31],[124,51,115,32,"getState"],[124,59,115,40],[124,60,115,41],[124,61,115,42],[125,6,116,4],[125,12,116,10],[126,8,116,12,"sound"],[126,13,116,17],[127,8,116,19,"currentPosition"],[127,23,116,34],[128,8,116,36,"duration"],[129,6,116,45],[129,7,116,46],[129,10,116,49,"store"],[129,15,116,54],[130,6,118,4],[130,10,118,8],[130,11,118,9,"sound"],[130,16,118,14],[130,18,118,16],[131,6,120,4],[131,12,120,10,"newPosition"],[131,23,120,21],[131,26,120,24,"Math"],[131,30,120,28],[131,31,120,29,"max"],[131,34,120,32],[131,35,120,33],[131,36,120,34],[131,38,120,36,"Math"],[131,42,120,40],[131,43,120,41,"min"],[131,46,120,44],[131,47,120,45,"currentPosition"],[131,62,120,60],[131,65,120,63,"milliseconds"],[131,77,120,75],[131,79,120,77,"duration"],[131,87,120,85],[131,88,120,86],[131,89,120,87],[132,6,121,4],[132,12,121,10,"sound"],[132,17,121,15],[132,18,121,16,"setPositionAsync"],[132,34,121,32],[132,35,121,33,"newPosition"],[132,46,121,44],[132,47,121,45],[133,4,122,2],[134,4,124,2],[134,17,124,15,"seekTo"],[134,23,124,21,"seekTo"],[134,24,124,22,"position"],[134,32,124,38],[134,34,124,40],[135,6,125,4],[135,12,125,10,"store"],[135,17,125,15],[135,20,125,18,"useAudioStore"],[135,36,125,31],[135,37,125,31,"useAudioStore"],[135,50,125,31],[135,51,125,32,"getState"],[135,59,125,40],[135,60,125,41],[135,61,125,42],[136,6,126,4],[136,12,126,10],[137,8,126,12,"sound"],[138,6,126,18],[138,7,126,19],[138,10,126,22,"store"],[138,15,126,27],[139,6,128,4],[139,10,128,8],[139,11,128,9,"sound"],[139,16,128,14],[139,18,128,16],[140,6,130,4],[140,12,130,10,"sound"],[140,17,130,15],[140,18,130,16,"setPositionAsync"],[140,34,130,32],[140,35,130,33,"position"],[140,43,130,41],[140,44,130,42],[141,4,131,2],[142,4,133,2],[142,17,133,15,"skipForward"],[142,28,133,26,"skipForward"],[142,29,133,27,"seconds"],[142,36,133,42],[142,38,133,44],[143,6,134,4],[143,12,134,10],[143,16,134,14],[143,17,134,15,"seek"],[143,21,134,19],[143,22,134,20,"seconds"],[143,29,134,27],[143,32,134,30],[143,36,134,34],[143,37,134,35],[144,4,135,2],[145,4,137,2],[145,17,137,15,"skipBackward"],[145,29,137,27,"skipBackward"],[145,30,137,28,"seconds"],[145,37,137,43],[145,39,137,45],[146,6,138,4],[146,12,138,10],[146,16,138,14],[146,17,138,15,"seek"],[146,21,138,19],[146,22,138,20],[146,23,138,21,"seconds"],[146,30,138,28],[146,33,138,31],[146,37,138,35],[146,38,138,36],[147,4,139,2],[148,4,141,2],[148,17,141,15,"saveProgress"],[148,29,141,27,"saveProgress"],[148,30,141,27],[148,32,141,30],[149,6,142,4],[149,12,142,10,"store"],[149,17,142,15],[149,20,142,18,"useAudioStore"],[149,36,142,31],[149,37,142,31,"useAudioStore"],[149,50,142,31],[149,51,142,32,"getState"],[149,59,142,40],[149,60,142,41],[149,61,142,42],[150,6,143,4],[150,12,143,10],[151,8,143,12,"currentBook"],[151,19,143,23],[152,8,143,25,"currentPosition"],[152,23,143,40],[153,8,143,42,"duration"],[154,6,143,51],[154,7,143,52],[154,10,143,55,"store"],[154,15,143,60],[155,6,145,4],[155,10,145,8],[155,11,145,9,"currentBook"],[155,22,145,20],[155,24,145,22],[156,6,147,4],[156,10,147,8],[157,8,148,6],[157,14,148,12,"axios"],[157,19,148,17],[157,20,148,17,"default"],[157,27,148,17],[157,28,148,18,"post"],[157,32,148,22],[157,33,148,23],[157,36,148,26,"API_URL"],[157,43,148,33],[157,58,148,48],[157,60,148,50],[158,10,149,8,"book_id"],[158,17,149,15],[158,19,149,17,"currentBook"],[158,30,149,28],[158,31,149,29,"id"],[158,33,149,31],[159,10,150,8,"position"],[159,18,150,16],[159,20,150,18,"currentPosition"],[159,35,150,33],[160,10,151,8,"duration"],[160,18,151,16],[160,20,151,18,"duration"],[160,28,151,26],[161,10,152,8,"current_file_index"],[161,28,152,26],[161,30,152,28,"currentBook"],[161,41,152,39],[161,42,152,40,"currentFileIndex"],[162,8,153,6],[162,9,153,7],[162,10,153,8],[164,8,155,6],[165,8,156,6],[165,14,156,12,"AsyncStorage"],[165,26,156,24],[165,27,156,24,"default"],[165,34,156,24],[165,35,156,25,"setItem"],[165,42,156,32],[165,43,157,8],[165,60,157,25,"currentBook"],[165,71,157,36],[165,72,157,37,"id"],[165,74,157,39],[165,76,157,41],[165,78,158,8,"JSON"],[165,82,158,12],[165,83,158,13,"stringify"],[165,92,158,22],[165,93,158,23],[166,10,159,10,"position"],[166,18,159,18],[166,20,159,20,"currentPosition"],[166,35,159,35],[167,10,160,10,"fileIndex"],[167,19,160,19],[167,21,160,21,"currentBook"],[167,32,160,32],[167,33,160,33,"currentFileIndex"],[167,49,160,49],[168,10,161,10,"timestamp"],[168,19,161,19],[168,21,161,21,"Date"],[168,25,161,25],[168,26,161,26,"now"],[168,29,161,29],[168,30,161,30],[169,8,162,8],[169,9,162,9],[169,10,163,6],[169,11,163,7],[170,6,164,4],[170,7,164,5],[170,8,164,6],[170,15,164,13,"error"],[170,20,164,18],[170,22,164,20],[171,8,165,6,"console"],[171,15,165,13],[171,16,165,14,"error"],[171,21,165,19],[171,22,165,20],[171,46,165,44],[171,48,165,46,"error"],[171,53,165,51],[171,54,165,52],[172,6,166,4],[173,4,167,2],[174,4,169,2],[174,17,169,15,"loadProgress"],[174,29,169,27,"loadProgress"],[174,30,169,28,"bookId"],[174,36,169,42],[174,38,169,44],[175,6,170,4],[175,10,170,8],[176,8,171,6],[176,14,171,12,"response"],[176,22,171,20],[176,25,171,23],[176,31,171,29,"axios"],[176,36,171,34],[176,37,171,34,"default"],[176,44,171,34],[176,45,171,35,"get"],[176,48,171,38],[176,49,171,39],[176,52,171,42,"API_URL"],[176,59,171,49],[176,76,171,66,"bookId"],[176,82,171,72],[176,84,171,74],[176,85,171,75],[177,8,172,6],[177,15,172,13,"response"],[177,23,172,21],[177,24,172,22,"data"],[177,28,172,26],[178,6,173,4],[178,7,173,5],[178,8,173,6],[178,15,173,13,"error"],[178,20,173,18],[178,22,173,20],[179,8,174,6,"console"],[179,15,174,13],[179,16,174,14,"error"],[179,21,174,19],[179,22,174,20],[179,47,174,45],[179,49,174,47,"error"],[179,54,174,52],[179,55,174,53],[180,8,175,6],[180,15,175,13],[180,19,175,17],[181,6,176,4],[182,4,177,2],[183,4,179,2],[183,17,179,15,"resetProgress"],[183,30,179,28,"resetProgress"],[183,31,179,29,"bookId"],[183,37,179,43],[183,39,179,45],[184,6,180,4],[184,10,180,8],[185,8,181,6],[185,14,181,12,"axios"],[185,19,181,17],[185,20,181,17,"default"],[185,27,181,17],[185,28,181,18,"delete"],[185,34,181,24],[185,35,181,25],[185,38,181,28,"API_URL"],[185,45,181,35],[185,62,181,52,"bookId"],[185,68,181,58],[185,70,181,60],[185,71,181,61],[186,8,182,6],[186,14,182,12,"AsyncStorage"],[186,26,182,24],[186,27,182,24,"default"],[186,34,182,24],[186,35,182,25,"removeItem"],[186,45,182,35],[186,46,182,36],[186,63,182,53,"bookId"],[186,69,182,59],[186,71,182,61],[186,72,182,62],[187,6,183,4],[187,7,183,5],[187,8,183,6],[187,15,183,13,"error"],[187,20,183,18],[187,22,183,20],[188,8,184,6,"console"],[188,15,184,13],[188,16,184,14,"error"],[188,21,184,19],[188,22,184,20],[188,49,184,47],[188,51,184,49,"error"],[188,56,184,54],[188,57,184,55],[189,6,185,4],[190,4,186,2],[191,4,188,2],[191,11,188,9,"startAutoSave"],[191,24,188,22,"startAutoSave"],[191,25,188,22],[191,27,188,25],[192,6,189,4],[192,10,189,8],[192,14,189,12],[192,15,189,13,"updateInterval"],[192,29,189,27],[192,31,189,29],[193,8,190,6,"clearInterval"],[193,21,190,19],[193,22,190,20],[193,26,190,24],[193,27,190,25,"updateInterval"],[193,41,190,39],[193,42,190,40],[194,6,191,4],[196,6,193,4],[197,6,194,4],[197,10,194,8],[197,11,194,9,"updateInterval"],[197,25,194,23],[197,28,194,26,"setInterval"],[197,39,194,37],[197,40,194,38],[197,46,194,44],[198,8,195,6],[198,12,195,10],[198,13,195,11,"saveProgress"],[198,25,195,23],[198,26,195,24],[198,27,195,25],[199,6,196,4],[199,7,196,5],[199,9,196,7],[199,14,196,12],[199,15,196,13],[200,4,197,2],[201,4,199,2],[201,11,199,9,"stopAutoSave"],[201,23,199,21,"stopAutoSave"],[201,24,199,21],[201,26,199,24],[202,6,200,4],[202,10,200,8],[202,14,200,12],[202,15,200,13,"updateInterval"],[202,29,200,27],[202,31,200,29],[203,8,201,6,"clearInterval"],[203,21,201,19],[203,22,201,20],[203,26,201,24],[203,27,201,25,"updateInterval"],[203,41,201,39],[203,42,201,40],[204,8,202,6],[204,12,202,10],[204,13,202,11,"updateInterval"],[204,27,202,25],[204,30,202,28],[204,34,202,32],[205,6,203,4],[206,4,204,2],[207,4,206,2],[207,17,206,15,"cleanup"],[207,24,206,22,"cleanup"],[207,25,206,22],[207,27,206,25],[208,6,207,4],[208,10,207,8],[208,11,207,9,"stopAutoSave"],[208,23,207,21],[208,24,207,22],[208,25,207,23],[209,6,208,4],[209,12,208,10],[209,16,208,14],[209,17,208,15,"saveProgress"],[209,29,208,27],[209,30,208,28],[209,31,208,29],[210,6,209,4],[210,12,209,10,"store"],[210,17,209,15],[210,20,209,18,"useAudioStore"],[210,36,209,31],[210,37,209,31,"useAudioStore"],[210,50,209,31],[210,51,209,32,"getState"],[210,59,209,40],[210,60,209,41],[210,61,209,42],[211,6,210,4],[211,12,210,10,"store"],[211,17,210,15],[211,18,210,16,"cleanup"],[211,25,210,23],[211,26,210,24],[211,27,210,25],[212,4,211,2],[213,4,213,2],[213,11,213,9,"startDelayedPlayback"],[213,31,213,29,"startDelayedPlayback"],[213,32,213,30,"book"],[213,36,213,40],[213,38,213,42,"delayMinutes"],[213,50,213,62],[213,52,213,64],[214,6,214,4],[214,12,214,10,"store"],[214,17,214,15],[214,20,214,18,"useAudioStore"],[214,36,214,31],[214,37,214,31,"useAudioStore"],[214,50,214,31],[214,51,214,32,"getState"],[214,59,214,40],[214,60,214,41],[214,61,214,42],[216,6,216,4],[217,6,217,4],[217,10,217,8,"store"],[217,15,217,13],[217,16,217,14,"delayTimeoutId"],[217,30,217,28],[217,32,217,30],[218,8,218,6,"clearTimeout"],[218,20,218,18],[218,21,218,19,"store"],[218,26,218,24],[218,27,218,25,"delayTimeoutId"],[218,41,218,39],[218,42,218,40],[219,6,219,4],[220,6,221,4,"store"],[220,11,221,9],[220,12,221,10,"setIsDelayActive"],[220,28,221,26],[220,29,221,27],[220,33,221,31],[220,34,221,32],[221,6,222,4,"store"],[221,11,222,9],[221,12,222,10,"setDelayStartTime"],[221,29,222,27],[221,30,222,28,"Date"],[221,34,222,32],[221,35,222,33,"now"],[221,38,222,36],[221,39,222,37],[221,40,222,38],[221,41,222,39],[222,6,224,4],[222,12,224,10,"timeoutId"],[222,21,224,19],[222,24,224,22,"setTimeout"],[222,34,224,32],[222,35,224,33],[222,41,224,39],[223,8,225,6],[223,12,225,10],[223,13,225,11,"loadAndPlayAudio"],[223,29,225,27],[223,30,225,28,"book"],[223,34,225,32],[223,36,225,34,"book"],[223,40,225,38],[223,41,225,39,"currentPosition"],[223,56,225,54],[223,57,225,55],[224,8,226,6,"store"],[224,13,226,11],[224,14,226,12,"setIsDelayActive"],[224,30,226,28],[224,31,226,29],[224,36,226,34],[224,37,226,35],[225,8,227,6,"store"],[225,13,227,11],[225,14,227,12,"setDelayStartTime"],[225,31,227,29],[225,32,227,30],[225,36,227,34],[225,37,227,35],[226,6,228,4],[226,7,228,5],[226,9,228,7,"delayMinutes"],[226,21,228,19],[226,24,228,22],[226,26,228,24],[226,29,228,27],[226,33,228,31],[226,34,228,32],[227,6,230,4,"store"],[227,11,230,9],[227,12,230,10,"setDelayTimeoutId"],[227,29,230,27],[227,30,230,28,"timeoutId"],[227,39,230,37],[227,40,230,38],[228,4,231,2],[229,4,233,2],[229,11,233,9,"cancelDelayedPlayback"],[229,32,233,30,"cancelDelayedPlayback"],[229,33,233,30],[229,35,233,33],[230,6,234,4],[230,12,234,10,"store"],[230,17,234,15],[230,20,234,18,"useAudioStore"],[230,36,234,31],[230,37,234,31,"useAudioStore"],[230,50,234,31],[230,51,234,32,"getState"],[230,59,234,40],[230,60,234,41],[230,61,234,42],[231,6,236,4],[231,10,236,8,"store"],[231,15,236,13],[231,16,236,14,"delayTimeoutId"],[231,30,236,28],[231,32,236,30],[232,8,237,6,"clearTimeout"],[232,20,237,18],[232,21,237,19,"store"],[232,26,237,24],[232,27,237,25,"delayTimeoutId"],[232,41,237,39],[232,42,237,40],[233,8,238,6,"store"],[233,13,238,11],[233,14,238,12,"setDelayTimeoutId"],[233,31,238,29],[233,32,238,30],[233,36,238,34],[233,37,238,35],[234,6,239,4],[235,6,241,4,"store"],[235,11,241,9],[235,12,241,10,"setIsDelayActive"],[235,28,241,26],[235,29,241,27],[235,34,241,32],[235,35,241,33],[236,6,242,4,"store"],[236,11,242,9],[236,12,242,10,"setDelayStartTime"],[236,29,242,27],[236,30,242,28],[236,34,242,32],[236,35,242,33],[237,4,243,2],[238,2,244,0],[239,0,244,1],[239,3]],"functionMap":{"names":["<global>","AudioService","AudioService.initAudio","AudioService.loadAndPlayAudio","AudioService.onPlaybackStatusUpdate","AudioService.handleTrackEnd","AudioService.playPause","AudioService.seek","AudioService.seekTo","AudioService.skipForward","AudioService.skipBackward","AudioService.saveProgress","AudioService.loadProgress","AudioService.resetProgress","AudioService.startAutoSave","setInterval$argument_0","AudioService.stopAutoSave","AudioService.cleanup","AudioService.startDelayedPlayback","setTimeout$argument_0","AudioService.cancelDelayedPlayback"],"mappings":"AAA;OCO;ECG;GDW;EEE;GFoC;kCGE;GHe;EIE;GJmB;EKE;GLY;EME;GNQ;EOE;GPO;EQE;GRE;ESE;GTE;EUE;GV0B;EWE;GXQ;EYE;GZO;EaE;sCCM;KDE;GbC;EeE;GfK;EgBE;GhBK;EiBE;iCCW;KDI;GjBG;EmBE;GnBU;CDC"},"hasCjsExports":false},"type":"js/module"}]}